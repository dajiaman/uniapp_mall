(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-myCoupon-myCoupon"],{"06c5":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("a630"),i("fb6a"),i("d3b7"),i("25f0"),i("3ca3");var n=i("6b75");function o(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(n["a"])(t,e):void 0}}},2909:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return s}));var n=i("6b75");function o(t){if(Array.isArray(t))return Object(n["a"])(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var r=i("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return o(t)||a(t)||Object(r["a"])(t)||c()}},4222:function(t,e,i){var n=i("9acd");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("4d1d647c",n,!0,{sourceMap:!1,shadowMode:!1})},"46b7":function(t,e,i){"use strict";i.r(e);var n=i("f964"),o=i("f106");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("d87f");var r,c=i("f0c5"),s=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"596366df",null,!1,n["a"],r);e["default"]=s.exports},"6b75":function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.d(e,"a",(function(){return n}))},8750:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("2909")),a=n(i("243e")),r=n(i("caa3")),c=n(i("3d12")),s=n(i("a046")),u={components:{tuiTabs:a.default,tuiButton:c.default,tuiLoadmore:r.default,tuiNomore:s.default},data:function(){return{tabs:[{name:"未使用"},{name:"已使用"},{name:"已过期"}],currentTab:0,scrollTop:0,couponList:[{loading:!1,pullUpOn:!0,pageIndex:1,noData:!1,data:[]},{loading:!1,pullUpOn:!0,pageIndex:1,noData:!1,data:[]},{loading:!1,pullUpOn:!0,pageIndex:1,noData:!1,data:[]}],requestData:[{type:1,range:"拼团券",rangeDesc:"限拼团可用",condition:"满38元可用",value:9},{type:1,range:"全场券",rangeDesc:"全部商品可用",condition:"满200元可用",value:5},{type:2,range:"全场券",rangeDesc:"全部商品可用",condition:"满200元可用",value:100},{type:2,range:"品牌券",rangeDesc:"指定品牌可用",condition:"满200元可用",value:200},{type:2,range:"品类券",rangeDesc:"指定品类可用",condition:"满8000元可用",value:1e4},{type:1,range:"拼团券",rangeDesc:"限拼团可用",condition:"满100元可用",value:9},{type:1,range:"全场券",rangeDesc:"全部商品可用",condition:"满800元可用",value:8},{type:2,range:"全场券",rangeDesc:"全部商品可用",condition:"满200元可用",value:30},{type:2,range:"品牌券",rangeDesc:"指定品牌可用",condition:"满100元可用",value:20},{type:2,range:"品类券",rangeDesc:"指定品类可用",condition:"满500元可用",value:100}],webURL:"http://www.thorui.cn/wx"}},onLoad:function(){this.getCouponList(this.currentTab)},methods:{getSignUrl:function(t){var e="";return 1==t?e="/static/images/mall/coupon/img_coupon_beused_3x.png":2==t&&(e="/static/images/mall/coupon/img_coupon_failure_3x.png"),e},change:function(t){this.currentTab=t.index,1==this.couponList[this.currentTab].pageIndex&&this.getCouponList(this.currentTab)},getCouponList:function(t,e){var i=this,n=this.couponList[t];n.pageIndex;e||(n.loading=!0),setTimeout((function(){e&&uni.stopPullDownRefresh();var t=(0,o.default)(i.requestData);1==n.pageIndex?n.data=t:n.data=n.data.concat(t),n.pageIndex>2&&(n.pullUpOn=!1),n.pageIndex++,n.loading=!1}),400)}},onPullDownRefresh:function(){var t=this.currentTab,e=this.couponList[t];e.pageIndex=1,e.loading=!1,e.pullUpOn=!0,e.noData=!1,this.getCouponList(t,!0)},onReachBottom:function(){var t=this.currentTab;this.couponList[t].pullUpOn&&this.getCouponList(t)},onPageScroll:function(t){this.scrollTop=t.scrollTop}};e.default=u},"9acd":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".container[data-v-596366df]{padding-bottom:env(safe-area-inset-bottom)}.tui-mtop[data-v-596366df]{margin-top:%?80?%}.tui-coupon-list[data-v-596366df]{width:100%;padding:0 %?25?%;box-sizing:border-box}.tui-coupon-banner[data-v-596366df]{width:100%}.tui-coupon-item[data-v-596366df]{width:100%;height:%?210?%;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-right:%?30?%;box-sizing:border-box;overflow:hidden}.tui-coupon-bg[data-v-596366df]{width:100%;height:%?210?%;position:absolute;left:0;top:0;z-index:1}.tui-coupon-sign[data-v-596366df]{height:%?110?%;width:%?110?%;position:absolute;z-index:9;top:%?-30?%;right:%?40?%}.tui-coupon-item-left[data-v-596366df]{width:%?218?%;height:%?210?%;position:relative;z-index:2;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-flex-shrink:0;flex-shrink:0}.tui-coupon-price-box[data-v-596366df]{display:-webkit-box;display:-webkit-flex;display:flex;color:#e41f19;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.tui-coupon-price-sign[data-v-596366df]{font-size:%?30?%}.tui-coupon-price[data-v-596366df]{font-size:%?70?%;line-height:%?68?%;font-weight:700}.tui-price-small[data-v-596366df]{font-size:%?58?%!important;line-height:%?56?%!important}.tui-coupon-intro[data-v-596366df]{background:#f7f7f7;padding:%?8?% %?10?%;font-size:%?26?%;line-height:%?26?%;font-weight:400;color:#666;margin-top:%?18?%}.tui-coupon-item-right[data-v-596366df]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?210?%;position:relative;z-index:2;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-left:%?24?%;box-sizing:border-box;overflow:hidden}.tui-coupon-content[data-v-596366df]{width:82%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tui-coupon-title-box[data-v-596366df]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.tui-coupon-btn[data-v-596366df]{padding:%?6?%;background:#ffebeb;color:#e41f19;font-size:%?25?%;line-height:%?25?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transform:scale(.9);transform:scale(.9);-webkit-transform-origin:0 center;transform-origin:0 center;border-radius:%?4?%;-webkit-flex-shrink:0;flex-shrink:0}.tui-color-grey[data-v-596366df]{color:#888!important}.tui-bg-grey[data-v-596366df]{background:#f0f0f0!important;color:#888!important}.tui-coupon-title[data-v-596366df]{width:100%;font-size:%?26?%;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tui-coupon-rule[data-v-596366df]{padding-top:%?52?%}.tui-rule-box[data-v-596366df]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform:scale(.8);transform:scale(.8);-webkit-transform-origin:0 100%;transform-origin:0 100%}.tui-padding-btm[data-v-596366df]{padding-bottom:%?6?%}.tui-coupon-circle[data-v-596366df]{width:%?8?%;height:%?8?%;background:#a0a0a0;border-radius:50%}.tui-coupon-text[data-v-596366df]{font-size:%?28?%;line-height:%?28?%;font-weight:400;color:#666;padding-left:%?8?%;white-space:nowrap}.tui-top20[data-v-596366df]{margin-top:%?20?%}.tui-coupon-title[data-v-596366df]{font-size:%?28?%;line-height:%?28?%}.tui-btn-box[data-v-596366df]{position:absolute;width:%?146?%;height:%?52?%;right:%?20?%;bottom:%?40?%;z-index:10}",""]),t.exports=e},d87f:function(t,e,i){"use strict";var n=i("4222"),o=i.n(n);o.a},f106:function(t,e,i){"use strict";i.r(e);var n=i("8750"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},f964:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("tui-tabs",{attrs:{tabs:t.tabs,currentTab:t.currentTab,selectedColor:"#E41F19",sliderBgColor:"#E41F19",itemWidth:"33.33333%",isFixed:t.scrollTop>=0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"tui-coupon-list",class:{"tui-mtop":t.scrollTop>=0}},t._l(t.couponList,(function(e,n){return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.currentTab==n,expression:"currentTab == i"}],key:n},[t._l(e.data,(function(e,o){return i("v-uni-view",{key:o,staticClass:"tui-coupon-item tui-top20"},[i("v-uni-image",{staticClass:"tui-coupon-bg",attrs:{src:t.webURL+"/static/images/mall/coupon/bg_coupon_3x.png",mode:"widthFix"}}),n>0?i("v-uni-image",{staticClass:"tui-coupon-sign",attrs:{src:t.webURL+t.getSignUrl(n)}}):t._e(),i("v-uni-view",{staticClass:"tui-coupon-item-left"},[i("v-uni-view",{staticClass:"tui-coupon-price-box",class:{"tui-color-grey":n>0}},[2==e.type?i("v-uni-view",{staticClass:"tui-coupon-price-sign"},[t._v("￥")]):t._e(),i("v-uni-view",{staticClass:"tui-coupon-price",class:{"tui-price-small":e.value.toString().length>4}},[t._v(t._s(e.value))]),1==e.type?i("v-uni-view",{staticClass:"tui-coupon-price-sign"},[t._v("折")]):t._e()],1),i("v-uni-view",{staticClass:"tui-coupon-intro"},[t._v(t._s(e.condition))])],1),i("v-uni-view",{staticClass:"tui-coupon-item-right"},[i("v-uni-view",{staticClass:"tui-coupon-content"},[i("v-uni-view",{staticClass:"tui-coupon-title-box"},[i("v-uni-view",{staticClass:"tui-coupon-btn",class:{"tui-bg-grey":n>0}},[t._v(t._s(e.range))]),i("v-uni-view",{staticClass:"tui-coupon-title"},[t._v(t._s(e.rangeDesc))])],1),i("v-uni-view",{staticClass:"tui-coupon-rule"},[i("v-uni-view",{staticClass:"tui-rule-box tui-padding-btm"},[i("v-uni-view",{staticClass:"tui-coupon-circle"}),i("v-uni-view",{staticClass:"tui-coupon-text"},[t._v("不可叠加使用")])],1),i("v-uni-view",{staticClass:"tui-rule-box"},[i("v-uni-view",{staticClass:"tui-coupon-circle"}),i("v-uni-view",{staticClass:"tui-coupon-text"},[t._v(t._s(o%2==0?"自领取之日起30天有效":"2019-11-01至2019-12-31"))])],1)],1)],1)],1),0===n?i("v-uni-view",{staticClass:"tui-btn-box"},[i("tui-button",{attrs:{type:"danger",width:"152rpx",height:"52rpx",size:24,shape:"circle",plain:!0}},[t._v("立即使用")])],1):t._e()],1)})),t.couponList[n].loading?i("tui-loadmore",{attrs:{index:3,type:"red"}}):t._e(),t.couponList[n].pullUpOn?t._e():i("tui-nomore")],2)})),1)],1)},a=[]}}]);